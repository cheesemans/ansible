- name: Create ~/.fonts if it does not exist
  file:
    path: /usr/local/share/fonts
    state: directory

- name: Check if FiraCode is already installed
  stat:
    path: "/usr/local/share/fonts/Fira Code Bold Nerd Font Complete.ttf"
  register: result                  
                                    
                                    
- name: Download and unpack FiraCode font
  debug:                            
    msg: "FiraCode does not exist!"
  when: not result.stat.exists

#- name: Download and unpack FiraCode font
#  unarchive:
#    src: https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/FiraCode.zip
#    dest: ~/.fonts/
#    remote_src: yes
#  when: result.stat.exists
